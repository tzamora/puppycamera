<!-- index.html -->
<html>
<head>
    <title>Hello React</title>
    <link rel="stylesheet" href="materialize/css/materialize.css" />
    <link rel="stylesheet" href="css/styles.css" />
    <script src="http://fb.me/react-0.12.2.js"></script>
    <script src="http://fb.me/JSXTransformer-0.12.2.js"></script>
    <script src="http://code.jquery.com/jquery-1.10.0.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/showdown/0.3.1/showdown.min.js"></script>
    <script src="materialize/js/materialize.js"></script>
</head>
<body>
<div id="content">

</div>

<script type="text/jsx">

    var RootBox = React.createClass({

        render: function(){

            return (
                <div className="rootBox">
                    <HeaderBox></HeaderBox>
                    <CommentBox data={this.props.data} />
                </div>
            );

        }

    });

    // tutorial1.js
    var HeaderBox = React.createClass({

        render: function() {
            return (

                    <div className="headerBox">
                        Header
                    </div>

            );
        }

    });

    // tutorial1.js
    var CommentBox = React.createClass({

        render: function() {
            return (

                <div className="commentBox">
                    <CommentList data={this.props.data} />
                </div>

            );
        }

    });

    var CommentList = React.createClass({

        render: function(){

            var daysCounterButton = {
                position: 'absolute',
                bottom:'10px',
                right:'10px'
            };

            var rowStyle = {

                marginBottom:'0px'

            };

            var days = 12;

            var commentNodes = this.props.data.map(function(comment){

                var heartButtonStyle = {
                    position: 'absolute',
                    bottom:'10px',
                    left:'10px',
                    width:'35px',
                    height:'35px',
                    backgroundImage: 'url(images/solid-black-heart-md.png)',
                    backgroundSize: '35px 35px'
            };

                return (

                    <div className="row" style={rowStyle}>
                        <div className="col s12 m7">
                            <div className="card z-depth-2">
                                <div className="card-image ">
                                    <img src={comment.imageURL} />
                                    <a style={daysCounterButton} className="waves-effect waves-light btn m">{days} dias</a>
                                    <div style={heartButtonStyle} >

                                    </div>
                                </div>
                                <div className="card-content">
                                    <Comment author={comment.author}>
                                        {comment.text}
                                    </Comment>
                                </div>
                            </div>
                        </div>
                    </div>
                );

            });

            return (

                <div className="commentList">
                    {commentNodes}
                </div>

            );
        }

    });

    var CommentForm = React.createClass({

        render:function(){
         return (
             <div className="commentForm">
                comment form
             </div>
         );

        }

    });

    var converter = new Showdown.converter();

    var Comment = React.createClass({

        render:function(){

            // vamos a hacer una logica antes de que este mae dispare la jugada!

            var rawMarkup = converter.makeHtml(this.props.children.toString());

            return(
                <div className="comment">
                    <p className="commentAuthor">
                        El autor {this.props.author}
                    </p>
                    <span dangerouslySetInnerHTML={{__html: rawMarkup}} />
                </div>
            );
        }

    });

    // tutorial8.js
    var data = [
        {
            author: "Pete Hunt",
            text: "This is one comment",
            imageURL: "images/old-dog.jpg"
        },
        {
            author: "chucha Hunt",
            text: "ok lo que estoy pensando ahora es un despiche",
            imageURL: "images/Angry-Ferret-Just-Cant-Handle-Life-Right-Now.gif"
        },
        {
            author: "Jordan Walke",
            text: "This is *another* comment",
            imageURL: "images/puppy.jpg"
        }
    ];

    React.render(
        <div>
            <RootBox data={data} />
        </div>
        ,
        document.getElementById('content')
    );

</script>
</body>
</html>
